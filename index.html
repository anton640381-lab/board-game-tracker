<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–£—á—ë—Ç –Ω–∞—Å—Ç–æ–ª—å–Ω—ã—Ö –∏–≥—Ä</title>
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700;800&family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css">
    
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
    <!-- –®–∞–ø–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è -->
    <header class="header">
        <h1 class="header__title">üé≤ –ú–æ–∏ –Ω–∞—Å—Ç–æ–ª—å–Ω—ã–µ –∏–≥—Ä—ã</h1>
        
        <div class="dashboard">
            <div class="dashboard__item">
                <span class="dashboard__label">–ò–≥—Ä –≤ –∫–æ–ª–ª–µ–∫—Ü–∏–∏</span>
                <span class="dashboard__value" id="gamesCount">0</span>
            </div>
            <div class="dashboard__item">
                <span class="dashboard__label">–ò–≥—Ä–æ–∫–æ–≤</span>
                <span class="dashboard__value" id="playersCount">0</span>
            </div>
            <div class="dashboard__item">
                <span class="dashboard__label">–°—ã–≥—Ä–∞–Ω–æ –ø–∞—Ä—Ç–∏–π</span>
                <span class="dashboard__value" id="matchesCount">0</span>
            </div>
        </div>
    </header>

    <!-- –ù–∞–≤–∏–≥–∞—Ü–∏–æ–Ω–Ω–æ–µ –º–µ–Ω—é -->
    <nav class="nav">
        <button class="nav__btn nav__btn--active" data-section="games">
            <i class="nav__icon fas fa-dice"></i>
            <span class="nav__text">–ò–≥—Ä—ã</span>
        </button>
        <button class="nav__btn" data-section="players">
            <i class="nav__icon fas fa-users"></i>
            <span class="nav__text">–ò–≥—Ä–æ–∫–∏</span>
        </button>
        <button class="nav__btn" data-section="matches">
            <i class="nav__icon fas fa-trophy"></i>
            <span class="nav__text">–ü–∞—Ä—Ç–∏–∏</span>
        </button>
        <button class="nav__btn" data-section="randomizer">
            <i class="nav__icon fas fa-shuffle"></i>
            <span class="nav__text">–†–∞–Ω–¥–æ–º–∞–π–∑–µ—Ä</span>
        </button>
        <button class="nav__btn" data-section="statistics">
            <i class="nav__icon fas fa-chart-bar"></i>
            <span class="nav__text">–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</span>
        </button>
    </nav>

    <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç -->
    <main class="container">
        
        <!-- =============================================== -->
        <!-- –°–ï–ö–¶–ò–Ø: –ò–ì–†–´ -->
        <!-- =============================================== -->
        <section id="games-section" class="section section--active">
            <div class="section__header">
                <h2>–ú–æ–∏ –∏–≥—Ä—ã</h2>
                <button class="btn btn--primary" id="addGameBtn">
                    <i class="fas fa-plus"></i>
                    –î–æ–±–∞–≤–∏—Ç—å –∏–≥—Ä—É
                </button>
            </div>
            
            <div id="gamesList" class="cards-grid">
                <!-- –ò–≥—Ä—ã –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
            </div>
        </section>

        <!-- =============================================== -->
        <!-- –°–ï–ö–¶–ò–Ø: –ò–ì–†–û–ö–ò -->
        <!-- =============================================== -->
        <section id="players-section" class="section">
            <div class="section__header">
                <h2>–ò–≥—Ä–æ–∫–∏</h2>
                <button class="btn btn--primary" id="addPlayerBtn">
                    <i class="fas fa-plus"></i>
                    –î–æ–±–∞–≤–∏—Ç—å –∏–≥—Ä–æ–∫–∞
                </button>
            </div>
            <div id="playersList" class="cards-grid cards-grid--players">
                <!-- –ò–≥—Ä–æ–∫–∏ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
            </div>
        </section>

        <!-- =============================================== -->
        <!-- –°–ï–ö–¶–ò–Ø: –ü–ê–†–¢–ò–ò -->
        <!-- =============================================== -->
        <section id="matches-section" class="section">
            <div class="section__header">
                <h2 class="section__title">üèÜ –ü–∞—Ä—Ç–∏–∏</h2>
                <button class="btn btn--primary" id="addMatchBtn">
                    <i class="fas fa-plus"></i>
                    –ó–∞–ø–∏—Å–∞—Ç—å –ø–∞—Ä—Ç–∏—é
                </button>
            </div>
            
            <!-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ -->
            <div id="matchesStatistics"></div>
            
            <!-- –§–∏–ª—å—Ç—Ä—ã –∏ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ -->
            <div class="matches-controls">
                <div class="matches-controls__filters">
                    <label class="form__label">
                        –ò–≥—Ä–∞:
                        <select id="matchFilterGame" class="form__select form__select--small">
                            <option value="">–í—Å–µ –∏–≥—Ä—ã</option>
                        </select>
                    </label>
                    
                    <label class="form__label">
                        –ò–≥—Ä–æ–∫:
                        <select id="matchFilterPlayer" class="form__select form__select--small">
                            <option value="">–í—Å–µ –∏–≥—Ä–æ–∫–∏</option>
                        </select>
                    </label>
                    
                    <label class="form__label">
                        –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞:
                        <select id="matchSortBy" class="form__select form__select--small">
                            <option value="date-desc">–°–Ω–∞—á–∞–ª–∞ –Ω–æ–≤—ã–µ</option>
                            <option value="date-asc">–°–Ω–∞—á–∞–ª–∞ —Å—Ç–∞—Ä—ã–µ</option>
                            <option value="game">–ü–æ –∏–≥—Ä–µ</option>
                        </select>
                    </label>
                </div>
            </div>
            
            <!-- –°–ø–∏—Å–æ–∫ –ø–∞—Ä—Ç–∏–π -->
            <div id="matchesList" class="matches-list"></div>
        </section>

        <!-- =============================================== -->
        <!-- –°–ï–ö–¶–ò–Ø: –†–ê–ù–î–û–ú–ê–ô–ó–ï–† -->
        <!-- =============================================== -->
        <section id="randomizer-section" class="section">
            <div class="section__header">
                <div>
                    <h2 class="section__title">üé≤ –†–∞–Ω–¥–æ–º–∞–π–∑–µ—Ä</h2>
                    <p class="section__subtitle">–ù–µ –º–æ–∂–µ—Ç–µ –≤—ã–±—Ä–∞—Ç—å, –≤–æ —á—Ç–æ —Å—ã–≥—Ä–∞—Ç—å? –ú—ã –ø–æ–º–æ–∂–µ–º!</p>
                </div>
            </div>
            
            <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä (–ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è, –µ—Å–ª–∏ –µ—Å—Ç—å –∏–≥—Ä—ã) -->
            <div id="randomizerMainContainer">
                <!-- –§–∏–ª—å—Ç—Ä—ã -->
                <div class="randomizer-filters">
                    <h3 class="filters-title">–§–∏–ª—å—Ç—Ä—ã (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)</h3>
                    
                    <!-- –§–∏–ª—å—Ç—Ä: –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏–≥—Ä–æ–∫–æ–≤ -->
                    <div class="filter-group">
                        <label class="filter-checkbox">
                            <input 
                                type="checkbox" 
                                id="filterByPlayers"
                            >
                            <span>–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏–≥—Ä–æ–∫–æ–≤</span>
                        </label>
                        <div class="filter-inputs filter-inputs--single">
                            <label for="playersCount" class="input-label">–°–µ–π—á–∞—Å –Ω–∞—Å:</label>
                            <input 
                                type="number" 
                                id="playersCount" 
                                class="form__input form__input--small"
                                min="1" 
                                max="99"
                                placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä, 4" 
                            >
                            <span class="filter-hint">üë• –†–∞–Ω–¥–æ–º–∞–π–∑–µ—Ä –≤—ã–±–µ—Ä–µ—Ç –∏–≥—Ä—É, –≤ –∫–æ—Ç–æ—Ä—É—é –º–æ–∂–Ω–æ –∏–≥—Ä–∞—Ç—å —Ç–∞–∫–∏–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º</span>
                        </div>
                    </div>
                    
                    <!-- –§–∏–ª—å—Ç—Ä: –î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å -->
                    <div class="filter-group">
                        <label class="filter-checkbox">
                            <input type="checkbox" id="filterByDuration">
                            <span>–î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ø–∞—Ä—Ç–∏–∏</span>
                        </label>
                        <div class="filter-inputs filter-inputs--single">
                            <label for="maxDuration" class="input-label">–ï—Å—Ç—å –≤—Ä–µ–º–µ–Ω–∏ (–º–∏–Ω—É—Ç—ã):</label>
                            <input 
                                type="number" 
                                id="maxDuration" 
                                class="form__input form__input--small"
                                min="1" 
                                max="999"
                                placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä, 60"
                            >
                            <span class="filter-hint">‚è±Ô∏è –†–∞–Ω–¥–æ–º–∞–π–∑–µ—Ä –≤—ã–±–µ—Ä–µ—Ç –∏–≥—Ä—É, –∫–æ—Ç–æ—Ä–∞—è —É–ª–æ–∂–∏—Ç—Å—è –≤ —ç—Ç–æ –≤—Ä–µ–º—è</span>
                        </div>
                    </div>
                    
                    <!-- –§–∏–ª—å—Ç—Ä: –ö–∞—Ç–µ–≥–æ—Ä–∏—è -->
                    <div class="filter-group">
                        <label class="filter-checkbox">
                            <input type="checkbox" id="filterByCategory">
                            <span>–ö–∞—Ç–µ–≥–æ—Ä–∏—è</span>
                        </label>
                        <div class="filter-inputs filter-inputs--single">
                            <select id="categoryFilter" class="form__select">
                                <option value="">–í—Å–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏</option>
                            </select>
                            <span class="filter-hint">üìÇ –ü–æ–∫–∞–∑–∞—Ç—å —Ç–æ–ª—å–∫–æ –∏–≥—Ä—ã –≤—ã–±—Ä–∞–Ω–Ω–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏</span>
                        </div>
                    </div>
                </div>
                
                <!-- –ö–Ω–æ–ø–∫–∞ "–í—ã–±—Ä–∞—Ç—å —Å–ª—É—á–∞–π–Ω—É—é –∏–≥—Ä—É" -->
                <div class="randomizer-action">
                    <button class="btn btn--randomize" id="randomizeBtn" type="button">
                        <i class="fas fa-dice"></i>
                        –í–´–ë–†–ê–¢–¨ –°–õ–£–ß–ê–ô–ù–£–Æ –ò–ì–†–£
                    </button>
                </div>
                
                <!-- –ê–Ω–∏–º–∞—Ü–∏—è "–¥—É–º–∞–Ω–∏—è" -->
                <div id="randomSelectionAnimation" class="random-animation" style="display: none;">
                    <div class="spinner"></div>
                    <p>–í—ã–±–∏—Ä–∞–µ–º –∏–≥—Ä—É...</p>
                </div>
                
                <!-- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ -->
                <div id="randomizerResult"></div>
            </div>
            
            <!-- –ü—É—Å—Ç–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ (–ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è, –µ—Å–ª–∏ –Ω–µ—Ç –∏–≥—Ä) -->
            <div id="randomizerEmptyState" class="randomizer-empty-state" style="display: none;">
                <div class="empty-icon">üé≤</div>
                <h2>–ö–æ–ª–ª–µ–∫—Ü–∏—è –∏–≥—Ä –ø—É—Å—Ç–∞</h2>
                <p>–î–æ–±–∞–≤—å—Ç–µ –∏–≥—Ä—ã –≤ –∫–æ–ª–ª–µ–∫—Ü–∏—é, —á—Ç–æ–±—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ä–∞–Ω–¥–æ–º–∞–π–∑–µ—Ä</p>
                <button class="btn btn--primary btn--large" onclick="showSection('games')">
                    <i class="fas fa-plus"></i>
                    –ü–µ—Ä–µ–π—Ç–∏ –∫ –∏–≥—Ä–∞–º
                </button>
            </div>
        </section>

        <!-- =============================================== -->
        <!-- –°–ï–ö–¶–ò–Ø: –°–¢–ê–¢–ò–°–¢–ò–ö–ê -->
        <!-- =============================================== -->
        <section id="statistics-section" class="section">
            <div class="section__header">
                <h2 class="section__title">üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</h2>
            </div>
            
            <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä (–ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è, –µ—Å–ª–∏ –µ—Å—Ç—å –¥–∞–Ω–Ω—ã–µ) -->
            <div id="statsMainContainer">
                
                <!-- –°–ï–ö–¶–ò–Ø 1: –û–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ -->
                <div class="stats-block">
                    <h3 class="stats-block-title">üìà –û–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</h3>
                    <div id="generalStatsCards"></div>
                </div>
                
                <!-- –°–ï–ö–¶–ò–Ø 2: –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –∏–≥—Ä–∞–º -->
                <div class="stats-block">
                    <h3 class="stats-block-title">üé≤ –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –∏–≥—Ä–∞–º</h3>
                    <div id="gameStatsContainer"></div>
                </div>
                
                <!-- –°–ï–ö–¶–ò–Ø 3: –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –∏–≥—Ä–æ–∫–∞–º -->
                <div class="stats-block">
                    <h3 class="stats-block-title">üë• –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –∏–≥—Ä–æ–∫–∞–º</h3>
                    <div id="playerStatsContainer"></div>
                </div>
                
                <!-- –°–ï–ö–¶–ò–Ø 4: –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –ø–∞—Ä—Ç–∏—è–º -->
                <div class="stats-block">
                    <h3 class="stats-block-title">üèÜ –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –ø–∞—Ä—Ç–∏—è–º</h3>
                    <div id="matchStatsContainer"></div>
                </div>
                
            </div>
            
            <!-- –ü—É—Å—Ç–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ (–ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è, –µ—Å–ª–∏ –Ω–µ—Ç –¥–∞–Ω–Ω—ã—Ö) -->
            <div id="statsEmptyState" class="stats-empty-state">
                <div class="empty-icon">üìä</div>
                <h2>–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏</h2>
                <p>–î–æ–±–∞–≤—å—Ç–µ –∏–≥—Ä—ã, –∏–≥—Ä–æ–∫–æ–≤ –∏ –∑–∞–ø–∏—Å—ã–≤–∞–π—Ç–µ –ø–∞—Ä—Ç–∏–∏,<br>—á—Ç–æ–±—ã —É–≤–∏–¥–µ—Ç—å –∏–Ω—Ç–µ—Ä–µ—Å–Ω—É—é —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É!</p>
                <button class="btn btn--primary btn--large" onclick="showSection('games')">
                    <i class="fas fa-plus"></i>
                    –ü–µ—Ä–µ–π—Ç–∏ –∫ –∏–≥—Ä–∞–º
                </button>
            </div>
        </section>

    </main>

    <!-- =============================================== -->
    <!-- –ú–û–î–ê–õ–¨–ù–´–ï –û–ö–ù–ê -->
    <!-- =============================================== -->

    <!-- –ú–û–î–ê–õ–¨–ù–û–ï –û–ö–ù–û: –§–û–†–ú–ê –ò–ì–†–´ -->
    <div id="gameFormModal" class="modal">
        <div class="modal__overlay" id="gameFormOverlay"></div>
        <div class="modal__content">
            <div class="modal__header">
                <h3 class="modal__title" id="gameFormTitle">–î–æ–±–∞–≤–∏—Ç—å –∏–≥—Ä—É</h3>
                <button class="modal__close" id="closeGameFormBtn" type="button">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            
            <form id="gameForm" class="form">
                <input type="hidden" id="gameId" value="">
                
                <!-- –ù–∞–∑–≤–∞–Ω–∏–µ –∏–≥—Ä—ã -->
                <div class="form__group">
                    <label for="gameName" class="form__label">
                        –ù–∞–∑–≤–∞–Ω–∏–µ –∏–≥—Ä—ã <span class="form__required">*</span>
                    </label>
                    <input 
                        type="text" 
                        id="gameName" 
                        class="form__input" 
                        placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –ö–∞—Ä–∫–∞—Å—Å–æ–Ω"
                    >
                    <span class="form__error" id="gameNameError"></span>
                </div>
                
                <!-- –§–æ—Ç–æ –∏–≥—Ä—ã -->
                <div class="form__group">
                    <label class="form__label">–§–æ—Ç–æ –∏–≥—Ä—ã</label>
                    <div class="photo-upload">
                        <input 
                            type="file" 
                            id="gamePhoto" 
                            class="photo-upload__input" 
                            accept="image/jpeg,image/png,image/webp"
                        >
                        <label for="gamePhoto" class="photo-upload__label" id="photoUploadLabel">
                            <i class="fas fa-cloud-upload-alt"></i>
                            <span>–ù–∞–∂–º–∏—Ç–µ –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–æ—Ç–æ</span>
                            <small>JPG, PNG –∏–ª–∏ WEBP (–º–∞–∫—Å. 5 –ú–ë)</small>
                        </label>
                        
                        <div id="photoPreview" class="photo-preview" style="display: none;">
                            <img id="photoPreviewImg" src="" alt="–ü—Ä–µ–≤—å—é">
                            <button type="button" class="photo-preview__remove" id="removePhotoBtn">
                                <i class="fas fa-times"></i>
                            </button>
                        </div>
                        
                        <div id="photoLoading" class="photo-loading" style="display: none;">
                            <i class="fas fa-spinner fa-spin"></i>
                            <span>–û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º —Ñ–æ—Ç–æ...</span>
                        </div>
                    </div>
                    <span class="form__error" id="gamePhotoError"></span>
                </div>
                
                <!-- –ö–∞—Ç–µ–≥–æ—Ä–∏—è -->
                <div class="form__group">
                    <label for="gameCategory" class="form__label">
                        –ö–∞—Ç–µ–≥–æ—Ä–∏—è <span class="form__required">*</span>
                    </label>
                    <div class="form__group-inline">
                        <select id="gameCategory" class="form__input form__select">
                            <option value="">–í—ã–±–µ—Ä–∏—Ç–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—é</option>
                        </select>
                        <button type="button" class="btn btn--icon" id="addCategoryBtn" title="–î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—É—é –∫–∞—Ç–µ–≥–æ—Ä–∏—é">
                            <i class="fas fa-plus"></i>
                        </button>
                        <button type="button" class="btn btn--icon" id="manageCategoriesBtn" title="–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏">
                            <i class="fas fa-cog"></i>
                        </button>
                    </div>
                    <span class="form__error" id="gameCategoryError"></span>
                </div>
                
                <!-- –î–∞—Ç–∞ –ø–æ–∫—É–ø–∫–∏ -->
                <div class="form__group">
                    <label for="gamePurchaseDate" class="form__label">–î–∞—Ç–∞ –ø–æ–∫—É–ø–∫–∏</label>
                    <input 
                        type="date" 
                        id="gamePurchaseDate" 
                        class="form__input"
                    >
                    <span class="form__error" id="gamePurchaseDateError"></span>
                </div>
                
                <!-- –¶–µ–Ω–∞ -->
                <div class="form__group">
                    <label for="gamePrice" class="form__label">–¶–µ–Ω–∞ (‚ÇΩ)</label>
                    <input 
                        type="number" 
                        id="gamePrice" 
                        class="form__input" 
                        placeholder="0"
                        min="0"
                        step="1"
                    >
                    <span class="form__error" id="gamePriceError"></span>
                </div>
                
                <!-- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏–≥—Ä–æ–∫–æ–≤ -->
                <div class="form__group-row">
                    <div class="form__group">
                        <label for="gameMinPlayers" class="form__label">–ú–∏–Ω. –∏–≥—Ä–æ–∫–æ–≤</label>
                        <input 
                            type="number" 
                            id="gameMinPlayers" 
                            class="form__input" 
                            placeholder="1"
                            min="1"
                            step="1"
                        >
                    </div>
                    <div class="form__group">
                        <label for="gameMaxPlayers" class="form__label">–ú–∞–∫—Å. –∏–≥—Ä–æ–∫–æ–≤</label>
                        <input 
                            type="number" 
                            id="gameMaxPlayers" 
                            class="form__input" 
                            placeholder="4"
                            min="1"
                            step="1"
                        >
                    </div>
                </div>
                <span class="form__error" id="gamePlayersError"></span>
                
                <!-- –î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å -->
                <div class="form__group">
                    <label for="gameAvgDuration" class="form__label">–°—Ä–µ–¥–Ω—è—è –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å (–º–∏–Ω—É—Ç—ã)</label>
                    <input 
                        type="number" 
                        id="gameAvgDuration" 
                        class="form__input" 
                        placeholder="60"
                        min="1"
                        step="1"
                    >
                </div>
                
                <!-- –°–ª–æ–∂–Ω–æ—Å—Ç—å -->
                <div class="form__group">
                    <label for="gameDifficulty" class="form__label">–£—Ä–æ–≤–µ–Ω—å —Å–ª–æ–∂–Ω–æ—Å—Ç–∏</label>
                    <select id="gameDifficulty" class="form__input form__select">
                        <option value="">–ù–µ —É–∫–∞–∑–∞–Ω–∞</option>
                        <option value="–õ—ë–≥–∫–∞—è">–õ—ë–≥–∫–∞—è</option>
                        <option value="–°—Ä–µ–¥–Ω—è—è">–°—Ä–µ–¥–Ω—è—è</option>
                        <option value="–°–ª–æ–∂–Ω–∞—è">–°–ª–æ–∂–Ω–∞—è</option>
                        <option value="–≠–∫—Å–ø–µ—Ä—Ç–Ω–∞—è">–≠–∫—Å–ø–µ—Ä—Ç–Ω–∞—è</option>
                    </select>
                </div>

                <!-- –ù–û–í–´–ô –ë–õ–û–ö: –†–æ–ª–∏ / –≥–µ—Ä–æ–∏ / –∫–æ—Ä–ø–æ—Ä–∞—Ü–∏–∏ -->
                <div class="form__group">
                    <label class="form__label">
                        –†–æ–ª–∏ / –≥–µ—Ä–æ–∏ / –∫–æ—Ä–ø–æ—Ä–∞—Ü–∏–∏
                        <span class="form__hint">(–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)</span>
                    </label>
                    <p class="form__hint">
                        –ó–¥–µ—Å—å –º–æ–∂–Ω–æ –ø–µ—Ä–µ—á–∏—Å–ª–∏—Ç—å –≤–æ–∑–º–æ–∂–Ω—ã–µ —Ä–æ–ª–∏/–≥–µ—Ä–æ–µ–≤/—Ñ—Ä–∞–∫—Ü–∏–∏ –¥–ª—è —ç—Ç–æ–π –∏–≥—Ä—ã. 
                        –ù–∞–ø—Ä–∏–º–µ—Ä: "–î—Ä–∞–∫—É–ª–∞", "–í–∞–Ω –•–µ–ª—å—Å–∏–Ω–≥" –∏–ª–∏ –Ω–∞–∑–≤–∞–Ω–∏—è –∫–æ—Ä–ø–æ—Ä–∞—Ü–∏–π –≤ "–ü–æ–∫–æ—Ä–µ–Ω–∏–∏ –ú–∞—Ä—Å–∞".
                    </p>
                    <div id="gameRolesContainer" class="tags-input">
                        <!-- –°–ø–∏—Å–æ–∫ —Ä–æ–ª–µ–π –±—É–¥–µ—Ç –æ—Ç—Ä–∏—Å–æ–≤—ã–≤–∞—Ç—å—Å—è —Å—é–¥–∞ –∫–∞–∫ "—á–∏–ø—Å—ã" -->
                    </div>
                    <div class="tags-input__controls">
                        <input 
                            type="text" 
                            id="newRoleInput" 
                            class="form__input form__input--small" 
                            placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –î—Ä–∞–∫—É–ª–∞"
                        >
                        <button type="button" class="btn btn--secondary btn--small" id="addRoleBtn">
                            <i class="fas fa-plus"></i>
                            –î–æ–±–∞–≤–∏—Ç—å —Ä–æ–ª—å
                        </button>
                    </div>
                </div>
                
                <!-- –ö–Ω–æ–ø–∫–∏ -->
                <div class="form__actions">
                    <button type="button" class="btn btn--secondary" id="cancelGameFormBtn">
                        –û—Ç–º–µ–Ω–∞
                    </button>
                    <button type="submit" class="btn btn--primary" id="saveGameBtn">
                        <i class="fas fa-save"></i>
                        –°–æ—Ö—Ä–∞–Ω–∏—Ç—å
                    </button>
                </div>
            </form>
        </div>
    </div>

    <!-- –ú–û–î–ê–õ–¨–ù–û–ï –û–ö–ù–û: –§–û–†–ú–ê –ò–ì–†–û–ö–ê -->
    <div id="playerFormModal" class="modal">
        <div class="modal__overlay" id="playerFormOverlay"></div>
        <div class="modal__content modal__content--small">
            <div class="modal__header">
                <h3 class="modal__title" id="playerFormTitle">–î–æ–±–∞–≤–∏—Ç—å –∏–≥—Ä–æ–∫–∞</h3>
                <button class="modal__close" id="closePlayerFormBtn" type="button">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            
            <form id="playerForm" class="form">
                <input type="hidden" id="playerId" value="">
                
                <!-- –ò–º—è –∏–≥—Ä–æ–∫–∞ -->
                <div class="form__group">
                    <label for="playerName" class="form__label">
                        –ò–º—è –∏–≥—Ä–æ–∫–∞ <span class="form__required">*</span>
                    </label>
                    <input 
                        type="text" 
                        id="playerName" 
                        class="form__input" 
                        placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –ê–Ω–Ω–∞"
                    >
                    <span class="form__error" id="playerNameError"></span>
                </div>
                
                <!-- –§–æ—Ç–æ –∏–≥—Ä–æ–∫–∞ -->
                <div class="form__group">
                    <label class="form__label">–§–æ—Ç–æ –∏–≥—Ä–æ–∫–∞</label>
                    <div class="photo-upload">
                        <input 
                            type="file" 
                            id="playerPhoto" 
                            class="photo-upload__input" 
                            accept="image/jpeg,image/png,image/webp"
                        >
                        <label for="playerPhoto" class="photo-upload__label" id="playerPhotoUploadLabel">
                            <i class="fas fa-cloud-upload-alt"></i>
                            <span>–ù–∞–∂–º–∏—Ç–µ –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–æ—Ç–æ</span>
                            <small>JPG, PNG –∏–ª–∏ WEBP (–º–∞–∫—Å. 5 –ú–ë)</small>
                        </label>
                        
                        <div id="playerPhotoPreview" class="photo-preview" style="display: none;">
                            <img id="playerPhotoPreviewImg" src="" alt="–ü—Ä–µ–≤—å—é">
                            <button type="button" class="photo-preview__remove" id="removePlayerPhotoBtn">
                                <i class="fas fa-times"></i>
                            </button>
                        </div>
                        
                        <div id="playerPhotoLoading" class="photo-loading" style="display: none;">
                            <i class="fas fa-spinner fa-spin"></i>
                            <span>–û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º —Ñ–æ—Ç–æ...</span>
                        </div>
                    </div>
                    <span class="form__error" id="playerPhotoError"></span>
                </div>
                
                <!-- –ö–Ω–æ–ø–∫–∏ -->
                <div class="form__actions">
                    <button type="button" class="btn btn--secondary" id="cancelPlayerFormBtn">
                        –û—Ç–º–µ–Ω–∞
                    </button>
                    <button type="submit" class="btn btn--primary" id="savePlayerBtn">
                        <i class="fas fa-save"></i>
                        –°–æ—Ö—Ä–∞–Ω–∏—Ç—å
                    </button>
                </div>
            </form>
        </div>
    </div>

    <!-- –ú–û–î–ê–õ–¨–ù–û–ï –û–ö–ù–û: –§–û–†–ú–ê –ü–ê–†–¢–ò–ò -->
    <div id="matchFormModal" class="modal">
        <div class="modal__overlay" id="matchFormOverlay"></div>
        <div class="modal__content modal__content--large">
            <div class="modal__header">
                <h2 class="modal__title" id="matchFormTitle">–ó–∞–ø–∏—Å–∞—Ç—å –ø–∞—Ä—Ç–∏—é</h2>
                <button class="modal__close" id="closeMatchFormBtn">&times;</button>
            </div>
            
            <form id="matchForm" class="form">
                <input type="hidden" id="matchId">
                
                <!-- –®–∞–≥ 1: –í—ã–±–æ—Ä –∏–≥—Ä—ã -->
                <div class="form__section">
                    <h3 class="form__section-title">1. –í—ã–±–µ—Ä–∏—Ç–µ –∏–≥—Ä—É</h3>
                    
                    <div class="form__group">
                        <label class="form__label" for="matchGameId">
                            –ò–≥—Ä–∞ <span class="form__required">*</span>
                        </label>
                        <select id="matchGameId" class="form__select" required>
                            <option value="">-- –í—ã–±–µ—Ä–∏—Ç–µ –∏–≥—Ä—É --</option>
                        </select>
                        <span class="form__error" id="matchGameError"></span>
                    </div>
                    
                    <!-- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤—ã–±—Ä–∞–Ω–Ω–æ–π –∏–≥—Ä—ã -->
                    <div id="selectedGameDisplay" class="selected-game" style="display: none;"></div>
                </div>
                
                <!-- –®–∞–≥ 2: –í—ã–±–æ—Ä —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ -->
                <div class="form__section">
                    <h3 class="form__section-title">2. –í—ã–±–µ—Ä–∏—Ç–µ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤</h3>
                    
                    <div class="form__group">
                        <div id="matchPlayersContainer" class="players-grid"></div>
                        <span class="form__error" id="matchPlayersError"></span>
                    </div>
                </div>
                
                <!-- –®–∞–≥ 3: –†–µ–∑—É–ª—å—Ç–∞—Ç—ã -->
                <div id="matchScoresSection" class="form__section" style="display: none;">
                    <h3 class="form__section-title">3. –í–≤–µ–¥–∏—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã</h3>
                    
                    <div class="form__group">
                        <div id="matchScoresContainer" class="scores-grid"></div>
                        <span class="form__error" id="matchScoresError"></span>
                        <p class="form__hint">
                            üí° –ï—Å–ª–∏ –Ω–µ –æ—Ç–º–µ—Ç–∏—Ç–µ –ø–æ–±–µ–¥–∏—Ç–µ–ª—è –≤—Ä—É—á–Ω—É—é, –∏–º —Å—Ç–∞–Ω–µ—Ç –∏–≥—Ä–æ–∫ —Å –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–º–∏ –æ—á–∫–∞–º–∏
                        </p>
                    </div>
                </div>
                
                <!-- –®–∞–≥ 4: –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è -->
                <div class="form__section">
                    <h3 class="form__section-title">4. –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</h3>
                    
                    <div class="form__row">
                        <div class="form__group">
                            <label class="form__label" for="matchDate">
                                –î–∞—Ç–∞ –ø–∞—Ä—Ç–∏–∏ <span class="form__required">*</span>
                            </label>
                            <input type="date" id="matchDate" class="form__input" required>
                            <span class="form__error" id="matchDateError"></span>
                        </div>
                        
                        <div class="form__group">
                            <label class="form__label" for="matchDuration">
                                –î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å (–º–∏–Ω—É—Ç—ã)
                            </label>
                            <input type="number" id="matchDuration" class="form__input" min="1" placeholder="120">
                            <span class="form__error" id="matchDurationError"></span>
                        </div>
                    </div>

                    <!-- –ù–û–í–û–ï –ü–û–õ–ï: –û—Ü–µ–Ω–∫–∞ –∏–≥—Ä—ã -->
                    <div class="form__group">
                        <label class="form__label" for="matchRating">
                            –û—Ü–µ–Ω–∫–∞ –∏–≥—Ä—ã (1‚Äì10)
                        </label>
                        <input 
                            type="number" 
                            id="matchRating" 
                            class="form__input" 
                            min="1" 
                            max="10" 
                            step="1" 
                            placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä, 8"
                        >
                        <span class="form__error" id="matchRatingError"></span>
                        <p class="form__hint">
                            üí° –ù–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –ø–æ–ª–µ. –ú–æ–∂–Ω–æ –ø–æ—Å—Ç–∞–≤–∏—Ç—å –æ—Ü–µ–Ω–∫—É –∏–≥—Ä–µ –ø–æ—Å–ª–µ –ø–∞—Ä—Ç–∏–∏.
                        </p>
                    </div>
                    
                    <div class="form__group">
                        <label class="form__label" for="matchNotes">
                            –ó–∞–º–µ—Ç–∫–∏ –æ –ø–∞—Ä—Ç–∏–∏
                        </label>
                        <textarea id="matchNotes" class="form__textarea" rows="3" placeholder="–û–ø–∏—à–∏—Ç–µ, –∫–∞–∫ –ø—Ä–æ—à–ª–∞ –ø–∞—Ä—Ç–∏—è..."></textarea>
                    </div>
                </div>
                
                <div class="form__actions">
                    <button type="submit" class="btn btn--primary btn--large">
                        <i class="fas fa-save"></i>
                        –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –ø–∞—Ä—Ç–∏—é
                    </button>
                    <button type="button" class="btn btn--secondary btn--large" id="cancelMatchFormBtn">
                        –û—Ç–º–µ–Ω–∞
                    </button>
                </div>
            </form>
        </div>
    </div>

    <!-- –ú–û–î–ê–õ–¨–ù–û–ï –û–ö–ù–û: –ü–û–î–¢–í–ï–†–ñ–î–ï–ù–ò–ï –£–î–ê–õ–ï–ù–ò–Ø –ò–ì–†–´ -->
    <div id="deleteConfirmModal" class="modal">
        <div class="modal__overlay" id="deleteConfirmOverlay"></div>
        <div class="modal__content modal__content--small">
            <div class="modal__header">
                <h3 class="modal__title">–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ —É–¥–∞–ª–µ–Ω–∏—è</h3>
            </div>
            
            <div class="modal__body">
                <p id="deleteConfirmText">–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å —ç—Ç—É –∏–≥—Ä—É?</p>
                <p class="text-danger"><strong>–≠—Ç–æ –¥–µ–π—Å—Ç–≤–∏–µ –Ω–µ–ª—å–∑—è –æ—Ç–º–µ–Ω–∏—Ç—å.</strong></p>
            </div>
            
            <div class="modal__actions">
                <button type="button" class="btn btn--secondary" id="cancelDeleteBtn">
                    –û—Ç–º–µ–Ω–∞
                </button>
                <button type="button" class="btn btn--danger" id="confirmDeleteBtn">
                    <i class="fas fa-trash"></i>
                    –î–∞, —É–¥–∞–ª–∏—Ç—å
                </button>
            </div>
        </div>
    </div>

    <!-- –ú–û–î–ê–õ–¨–ù–û–ï –û–ö–ù–û: –ü–û–î–¢–í–ï–†–ñ–î–ï–ù–ò–ï –£–î–ê–õ–ï–ù–ò–Ø –ò–ì–†–û–ö–ê -->
    <div id="deletePlayerConfirmModal" class="modal">
        <div class="modal__overlay" id="deletePlayerConfirmOverlay"></div>
        <div class="modal__content modal__content--small">
            <div class="modal__header">
                <h3 class="modal__title">–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ —É–¥–∞–ª–µ–Ω–∏—è</h3>
            </div>
            
            <div class="modal__body">
                <p id="deletePlayerConfirmText">–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å —ç—Ç–æ–≥–æ –∏–≥—Ä–æ–∫–∞?</p>
                <p class="text-warning">
                    <i class="fas fa-exclamation-triangle"></i>
                    <strong>–í–Ω–∏–º–∞–Ω–∏–µ:</strong> –í—Å–µ –ø–∞—Ä—Ç–∏–∏ —Å —É—á–∞—Å—Ç–∏–µ–º —ç—Ç–æ–≥–æ –∏–≥—Ä–æ–∫–∞ –æ—Å—Ç–∞–Ω—É—Ç—Å—è, –Ω–æ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± –∏–≥—Ä–æ–∫–µ –±—É–¥–µ—Ç –ø–æ—Ç–µ—Ä—è–Ω–∞.
                </p>
            </div>
            
            <div class="modal__actions">
                <button type="button" class="btn btn--secondary" id="cancelDeletePlayerBtn">
                    –û—Ç–º–µ–Ω–∞
                </button>
                <button type="button" class="btn btn--danger" id="confirmDeletePlayerBtn">
                    <i class="fas fa-trash"></i>
                    –î–∞, —É–¥–∞–ª–∏—Ç—å
                </button>
            </div>
        </div>
    </div>

    <!-- –ú–û–î–ê–õ–¨–ù–û–ï –û–ö–ù–û: –ü–û–î–¢–í–ï–†–ñ–î–ï–ù–ò–ï –£–î–ê–õ–ï–ù–ò–Ø –ü–ê–†–¢–ò–ò -->
    <div id="deleteMatchConfirmModal" class="modal modal--small">
        <div class="modal__overlay" id="deleteMatchConfirmOverlay"></div>
        <div class="modal__content">
            <div class="modal__header">
                <h2 class="modal__title">–£–¥–∞–ª–∏—Ç—å –ø–∞—Ä—Ç–∏—é?</h2>
            </div>
            
            <div class="modal__body">
                <p id="deleteMatchConfirmText"></p>
            </div>
            
            <div class="modal__actions">
                <button class="btn btn--danger" id="confirmDeleteMatchBtn">
                    <i class="fas fa-trash"></i>
                    –î–∞, —É–¥–∞–ª–∏—Ç—å
                </button>
                <button class="btn btn--secondary" id="cancelDeleteMatchBtn">
                    –û—Ç–º–µ–Ω–∞
                </button>
            </div>
        </div>
    </div>

    <!-- –ú–û–î–ê–õ–¨–ù–û–ï –û–ö–ù–û: –î–û–ë–ê–í–õ–ï–ù–ò–ï –ö–ê–¢–ï–ì–û–†–ò–ò -->
    <div id="addCategoryModal" class="modal">
        <div class="modal__overlay" id="addCategoryOverlay"></div>
        <div class="modal__content modal__content--small">
            <div class="modal__header">
                <h3 class="modal__title">–î–æ–±–∞–≤–∏—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏—é</h3>
                <button class="modal__close" id="closeAddCategoryBtn" type="button">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            
            <div class="modal__body">
                <div class="form__group">
                    <label for="newCategoryInput" class="form__label">
                        –ù–∞–∑–≤–∞–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ <span class="form__required">*</span>
                    </label>
                    <input 
                        type="text" 
                        id="newCategoryInput" 
                        class="form__input" 
                        placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –•–æ—Ä—Ä–æ—Ä"
                    >
                    <span class="form__error" id="categoryError"></span>
                </div>
            </div>
            
            <div class="modal__actions">
                <button type="button" class="btn btn--secondary" id="cancelAddCategoryBtn">
                    –û—Ç–º–µ–Ω–∞
                </button>
                <button type="button" class="btn btn--primary" id="saveNewCategoryBtn">
                    <i class="fas fa-plus"></i>
                    –î–æ–±–∞–≤–∏—Ç—å
                </button>
            </div>
        </div>
    </div>

    <!-- –ú–û–î–ê–õ–¨–ù–û–ï –û–ö–ù–û: –£–ü–†–ê–í–õ–ï–ù–ò–ï –ö–ê–¢–ï–ì–û–†–ò–Ø–ú–ò -->
    <div id="manageCategoriesModal" class="modal">
        <div class="modal__overlay" id="manageCategoriesOverlay"></div>
        <div class="modal__content">
            <div class="modal__header">
                <h3 class="modal__title">–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏</h3>
                <button class="modal__close" id="closeManageCategoriesBtn" type="button">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            
            <div class="modal__body">
                <p class="hint-text">
                    <i class="fas fa-info-circle"></i>
                    –ú–æ–∂–Ω–æ —É–¥–∞–ª–∏—Ç—å —Ç–æ–ª—å–∫–æ –¥–æ–±–∞–≤–ª–µ–Ω–Ω—ã–µ –≤–∞–º–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ (–Ω–µ –∏–∑ —Å–ø–∏—Å–∫–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
                </p>
                
                <div id="categoriesList" class="categories-list">
                    <!-- –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                </div>
            </div>
            
            <div class="modal__actions">
                <button type="button" class="btn btn--secondary" id="closeManageCategoriesBtn2">
                    –ó–∞–∫—Ä—ã—Ç—å
                </button>
            </div>
        </div>
    </div>

    <!-- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —Å–∫—Ä–∏–ø—Ç–æ–≤ -->
    <script src="js/storage.js"></script>
    <script src="js/utils.js"></script>
    <script src="js/imageUtils.js"></script>
    <script src="js/toast.js"></script>
    <script src="js/loader.js"></script>
    <script src="js/games.js"></script>
    <script src="js/players.js"></script>
    <script src="js/matches.js"></script>
    <script src="js/randomizer.js"></script>
    <script src="js/statistics.js"></script>
    <script src="js/app.js"></script>
</body>
</html>
